<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Announcing tuxedo-rs | Eberhardt blog</title>
<meta name=keywords content="tuxedo-rs"><meta name=description content="I&rsquo;m excited to announce tuxedo-rs, a collection of Rust crates for interacting with hardware from TUXEDO Computers.
Some background
TUXEDO Computers is a PC and notebook vendor from Germany that sells hardware optimized for Linux.
TUXEDO Computers are customizable Linux notebooks and Desktop PCs optimized in the first place to run with Ubuntu-based Linux operating systems.
Literally Linux hardware in a tailor-made suit.
I think that&rsquo;s pretty neat!
For me, having a small local hardware vendor that focuses on Linux is basically all I could wish for."><meta name=author content="Aaron Erhardt"><link rel=canonical href=https://aaronerhardt.github.io/blog/posts/announcing_tuxedo_rs/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://aaronerhardt.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://aaronerhardt.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://aaronerhardt.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://aaronerhardt.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://aaronerhardt.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://aaronerhardt.github.io/blog/posts/announcing_tuxedo_rs/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://aaronerhardt.github.io/blog/posts/announcing_tuxedo_rs/"><meta property="og:site_name" content="Eberhardt blog"><meta property="og:title" content="Announcing tuxedo-rs"><meta property="og:description" content="I’m excited to announce tuxedo-rs, a collection of Rust crates for interacting with hardware from TUXEDO Computers.
Some background TUXEDO Computers is a PC and notebook vendor from Germany that sells hardware optimized for Linux.
TUXEDO Computers are customizable Linux notebooks and Desktop PCs optimized in the first place to run with Ubuntu-based Linux operating systems. Literally Linux hardware in a tailor-made suit.
I think that’s pretty neat! For me, having a small local hardware vendor that focuses on Linux is basically all I could wish for."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-15T00:00:00+00:00"><meta property="article:modified_time" content="2023-03-15T00:00:00+00:00"><meta property="article:tag" content="Tuxedo-Rs"><meta name=twitter:card content="summary"><meta name=twitter:title content="Announcing tuxedo-rs"><meta name=twitter:description content="I&rsquo;m excited to announce tuxedo-rs, a collection of Rust crates for interacting with hardware from TUXEDO Computers.
Some background
TUXEDO Computers is a PC and notebook vendor from Germany that sells hardware optimized for Linux.
TUXEDO Computers are customizable Linux notebooks and Desktop PCs optimized in the first place to run with Ubuntu-based Linux operating systems.
Literally Linux hardware in a tailor-made suit.
I think that&rsquo;s pretty neat!
For me, having a small local hardware vendor that focuses on Linux is basically all I could wish for."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://aaronerhardt.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"Announcing tuxedo-rs","item":"https://aaronerhardt.github.io/blog/posts/announcing_tuxedo_rs/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Announcing tuxedo-rs","name":"Announcing tuxedo-rs","description":"I\u0026rsquo;m excited to announce tuxedo-rs, a collection of Rust crates for interacting with hardware from TUXEDO Computers.\nSome background TUXEDO Computers is a PC and notebook vendor from Germany that sells hardware optimized for Linux.\nTUXEDO Computers are customizable Linux notebooks and Desktop PCs optimized in the first place to run with Ubuntu-based Linux operating systems. Literally Linux hardware in a tailor-made suit.\nI think that\u0026rsquo;s pretty neat! For me, having a small local hardware vendor that focuses on Linux is basically all I could wish for.\n","keywords":["tuxedo-rs"],"articleBody":"I’m excited to announce tuxedo-rs, a collection of Rust crates for interacting with hardware from TUXEDO Computers.\nSome background TUXEDO Computers is a PC and notebook vendor from Germany that sells hardware optimized for Linux.\nTUXEDO Computers are customizable Linux notebooks and Desktop PCs optimized in the first place to run with Ubuntu-based Linux operating systems. Literally Linux hardware in a tailor-made suit.\nI think that’s pretty neat! For me, having a small local hardware vendor that focuses on Linux is basically all I could wish for.\nThe start of a journey Over one year ago, I bought my first TUXEDO notebook, installed my favorite Linux distribution and everything worked great out of the box. Eager to unlock the full potential of my new hardware, I installed the TUXEDO Control Center shortly afterwards. The TUXEDO Control Center (short TCC) is a comprehensive tool for letting you control and monitor all safety-, performance-, energy- and comfort functions of your TUXEDO laptop.\nUnfortunately, I wasn’t quite happy with my experience overall. The installation of the TCC already required more manual steps and had more gotchas than I would have liked. I was genuinely surprised how much extra effort I had to put in for getting TCC to run on my system. To be fair, I chose not to use TUXEDO OS because it doesn’t suit my needs and expected a few extra steps, but I still was a little bit disappointed.\nSurely, better documentation would have helped me a bit, but the far bigger issues stem from the underlying decisions and the technology stack. Using a mix of C++ and JavaScript for TCC and its underlying system service not only makes the installation more complex but also makes it a hard for Linux distribution to package TCC. Even more odd, however, is the fact that a Linux hardware vendor (and KDE sponsor) doesn’t even ship a native GUI for their applications. TCC’s web-UI looks completely out of place and consumes much more resources than necessary.\nNot happy with the whole situation, I started thinking about a native replacement for TCC. A solution that would be intuitive, less resource hungry, easy to install and simple to package.\nIntroducing Tuxedo-rs Tux and Ferris are a great team! Level 1 - Hardware abstraction TUXEDO Computer’s kernel driver exposes two interfaces, sysfs for LED control and ioctl for almost everything else. First, I started exploring the sysfs interface with a small shell script. Shortly afterwards, I wrote the tuxedo_sysfs crate as a proper abstraction over the sysfs interface. Until recently, TUXEDO used a non-standard interface for controlling the RGB lights of supported keyboards. Yet with the latest version of the kernel driver, TUXEDO moved their interface to /sys/class/led which makes it easy for tuxedo_sysfs to pick up LED devices from other manufacturers as well.\nThe ioctl interface turned out to be a bit more challenging. TUXEDO Computers uses components from different manufacturer which have different interfaces in the ioctl driver. Fortunately, the tuxedo_ioctl crate has a hardware abstraction layer that lets you forget those differences and makes it easy to figure out device capabilities. Depending on the manufacturer, different traits are implemented that represent a subset of all available features. Once you connect to the interface, you either get a trait object with the supported functionality or None if the device doesn’t support a certain feature. Basically, hardware support is perfectly matched by Rust’s type system.\nLevel 2 - The system service With the first layer completed, the next step was to build a system service that’s able to manage the hardware and different configurations. The resulting tailord crate takes care of all the heavy lifting and exposes a simple DBUS interface.\nSimilar to the TCC, tailord is heavily focused around profiles. First, you can add and edit different fan curves and RGB animations. Then, you use profiles to assign the various configurations to your hardware. By selecting another profile, you can easily switch between different configurations.\nCompared to the TCC, tailord has some additional features, but is also missing some features. We’re currently working on closing the gap, but tailord should already offer more than enough for most users. Due to using Rust and better control algorithms, tailord is able to greatly outperform TCC’s tccd service both in CPU and RAM usage. To be fair, tccd already does quite ok, but tailord is at least 5 times more efficient in both categories.\nLevel 3 - The client library Using raw DBUS interfaces for interacting with tailord is not so much fun. Luckily, tailor_client provides a neat asynchronous API as an abstraction layer for communication with tailord. Connecting to tailord, serializing and deserializing of messages and error handling is all handled by this crate. By sharing common code with tailord through tailor_api, it is guaranteed that server and client can communicate seamlessly.\nLevel 4 - The GUI Built on the tailor_client crate, tailor_gui offers a native and intuitive UI for managing your hardware. On three pages, you can modify your profiles, RGB animations and fan curves. On every step, the UI will give you feedback instantaneously to make it easier to figure out which RGB value or fan speed is optional for you.\nThe following video shows the features of the GUI, but note that I made this video already a couple of weeks ago and more features have been added since.\nYour browser does not support the video tag. Overview As you can see, Tuxedo-rs is not just a replacement for TCC, but a collection of crates that offer abstractions at several levels. No matter whether you want to write a small utility, an alternative system service or build your own UI, tuxedo-rs has you covered. If you’d like to have an overview of all crates and how they interact with each other and the hardware, check out this graphic on our repository.\nWhy Rust? Of course, Rust is not a magic programming language that solves all problems and should replace all languages. Yet, especially for the scope of tuxedo-rs, it has proven to be a great choice. It is well known that Rust has outstanding performance, great tooling and tends to result in very robust programs. I think this has been covered well enough already, so I’d like to focus on some aspects that helped with tuxedo-rs in particular.\nAn interesting aspect of tuxedo-rs is that you will probably find equally suited or even better languages for certain parts of the project. Rust might not be a superior language for low-level kernel interfaces, system services or GUIs. Yet, it manages to be a great choice for all those tasks and makes it possible to write everything in just one language. In general, Rust simply accumulates a lot of great features that you would miss in other languages.\nIn particular, async support turned out to be an essential feature. Managing multiple DBUS connections, running fan control algorithms and showing RGB animations on a single thread could hardly be easier. Together with channels, asynchronous programming in Rust makes it quite easy to write robust concurrent applications.\nOne thing I really appreciate as well is the strong type system. Tuxedo-rs already has quite a lot of crates and during the development, it was not uncommon to change something in a lower level to be able to extend the functionality somewhere else. After going through a couple of error messages, the program would be fully functional again with no accidental bugs added in the process. The explicit type system is also very important for robust error handling and makes easy to write abstractions that cannot be used incorrectly. I think especially for system services which run with elevated permissions, correctness and safety cannot be valued enough.\nOn top of that, Rust also has a great ecosystem. nix offers great abstractions over ioctl and tokio_uring made it very simple to access the sysfs interfaces asynchronously through io_uring. For DBUS interfaces zbus is an outstanding crate for both servers and clients. And finally, Relm4 makes it easy to write native GUI applications and offers great support for asynchronous operations.\nHow can I use tuxedo-rs? Tuxedo-rs has just been announced with this post, so unsurprisingly there won’t be any packages available for your favorite Linux distribution yet. Tailor GUI will hopefully be published soon on flathub and we would love to work together with package maintainers to package the individual components of tuxedo-rs.\nFor now, building from source is still necessary. Fortunately, the build process is very simple and only requires meson and Rust. You can find detailed instructions here.\nWhat if I don’t own TUXEDO hardware? Tuxedo-rs is a purely community-driven project. It is not developed nor supported by TUXEDO Computers. This means that tuxedo-rs is free to implement support for other vendors as well. Technically, some features like RGB animations should already work with all RGB devices with a decent Linux driver. For more advanced features however, we need contributions from the community to add more devices.\nFuture plans I’m already quite happy with tuxedo-rs, but there are still a lot of features to work on. Eventually, we might even upstream a Kernel driver as replacement for the modules offered by TUXEDO Computers which can’t be merged into the Kernel due to an incompatible license.\nMost importantly however, tuxedo-rs needs more testing due to the limited hardware available to the contributors. Let us know if you want to add new features or experienced a problem. Contributions are always highly appreciated!\nCredit I want to thank TUXEDO Computers for offering great Linux hardware and publishing the source code of their software. Even though the documentation is mostly lacking, reading source code is still far better than reverse engineering and helped a lot during the development.\nEspecially, I want to thank Matteo Bigoi for contributing support for hardware from Uniwill (which is used in a lot of devices from TUXEDO Computers) and several other features to tuxedo-rs!\n","wordCount":"1656","inLanguage":"en","datePublished":"2023-03-15T00:00:00Z","dateModified":"2023-03-15T00:00:00Z","author":{"@type":"Person","name":"Aaron Erhardt"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://aaronerhardt.github.io/blog/posts/announcing_tuxedo_rs/"},"publisher":{"@type":"Organization","name":"Eberhardt blog","logo":{"@type":"ImageObject","url":"https://aaronerhardt.github.io/blog/favicon.ico"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://aaronerhardt.github.io/blog/ accesskey=h title="Eberhardt blog (Alt + H)">Eberhardt blog</a><div class=logo-switches></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://aaronerhardt.github.io/blog/>Home</a>&nbsp;»&nbsp;<a href=https://aaronerhardt.github.io/blog/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Announcing tuxedo-rs</h1><div class=post-meta><span title='2023-03-15 00:00:00 +0000 UTC'>March 15, 2023</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Aaron Erhardt&nbsp;|&nbsp;<a href=https://github.com/AaronErhardt/AaronErhardt.github.io/blob/blog/content/posts/announcing_tuxedo_rs/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#some-background aria-label="Some background">Some background</a><ul><li><a href=#the-start-of-a-journey aria-label="The start of a journey">The start of a journey</a></li></ul></li><li><a href=#introducing-tuxedo-rs aria-label="Introducing Tuxedo-rs">Introducing Tuxedo-rs</a><ul><li><a href=#level-1---hardware-abstraction aria-label="Level 1 - Hardware abstraction">Level 1 - Hardware abstraction</a></li><li><a href=#level-2---the-system-service aria-label="Level 2 - The system service">Level 2 - The system service</a></li><li><a href=#level-3---the-client-library aria-label="Level 3 - The client library">Level 3 - The client library</a></li><li><a href=#level-4---the-gui aria-label="Level 4 - The GUI">Level 4 - The GUI</a></li><li><a href=#overview aria-label=Overview>Overview</a></li></ul></li><li><a href=#why-rust aria-label="Why Rust?">Why Rust?</a></li><li><a href=#how-can-i-use-tuxedo-rs aria-label="How can I use tuxedo-rs?">How can I use tuxedo-rs?</a><ul><li><a href=#what-if-i-dont-own-tuxedo-hardware aria-label="What if I don&rsquo;t own TUXEDO hardware?">What if I don&rsquo;t own TUXEDO hardware?</a></li></ul></li><li><a href=#future-plans aria-label="Future plans">Future plans</a></li><li><a href=#credit aria-label=Credit>Credit</a></li></ul></div></details></div><div class=post-content><p>I&rsquo;m excited to announce <a href=https://github.com/AaronErhardt/tuxedo-rs>tuxedo-rs</a>, a collection of Rust crates for interacting with hardware from TUXEDO Computers.</p><h2 id=some-background>Some background<a hidden class=anchor aria-hidden=true href=#some-background>#</a></h2><p><a href=https://www.tuxedocomputers.com/>TUXEDO Computers</a> is a PC and notebook vendor from Germany that sells hardware optimized for Linux.</p><p><em>TUXEDO Computers are customizable Linux notebooks and Desktop PCs optimized in the first place to run with Ubuntu-based Linux operating systems.</em>
<em>Literally Linux hardware in a tailor-made suit.</em></p><p>I think that&rsquo;s pretty neat!
For me, having a small local hardware vendor that focuses on Linux is basically all I could wish for.</p><h3 id=the-start-of-a-journey>The start of a journey<a hidden class=anchor aria-hidden=true href=#the-start-of-a-journey>#</a></h3><p>Over one year ago, I bought my first TUXEDO notebook, installed my favorite Linux distribution and everything worked great out of the box.
Eager to unlock the full potential of my new hardware, I installed the TUXEDO Control Center shortly afterwards.
The <a href=https://www.tuxedocomputers.com/en/TUXEDO-Control-Center.tuxedo#>TUXEDO Control Center</a> (short TCC) is a <em>comprehensive tool for letting you control and monitor all safety-, performance-, energy- and comfort functions of your TUXEDO laptop</em>.</p><p>Unfortunately, I wasn&rsquo;t quite happy with my experience overall.
The installation of the TCC already required more manual steps and had more gotchas than I would have liked.
I was genuinely surprised how much extra effort I had to put in for getting TCC to run on my system.
To be fair, I chose not to use TUXEDO OS because it doesn&rsquo;t suit my needs and expected a few extra steps, but I still was a little bit disappointed.</p><p>Surely, better documentation would have helped me a bit, but the far bigger issues stem from the underlying decisions and the technology stack.
Using a mix of C++ and JavaScript for TCC and its underlying system service not only makes the installation more complex but also makes it a hard for Linux distribution to package TCC.
Even more odd, however, is the fact that a Linux hardware vendor (and KDE sponsor) doesn&rsquo;t even ship a native GUI for their applications.
TCC&rsquo;s web-UI looks completely out of place and consumes much more resources than necessary.</p><p>Not happy with the whole situation, I started thinking about a native replacement for TCC.
A solution that would be intuitive, less resource hungry, easy to install and simple to package.</p><h2 id=introducing-tuxedo-rs>Introducing Tuxedo-rs<a hidden class=anchor aria-hidden=true href=#introducing-tuxedo-rs>#</a></h2><div align=center><img src=./tuxedo-rs-mascots-dark.png style=width:10em;max-width:100%>
<i>Tux and Ferris are a great team!</i></div><h3 id=level-1---hardware-abstraction>Level 1 - Hardware abstraction<a hidden class=anchor aria-hidden=true href=#level-1---hardware-abstraction>#</a></h3><p>TUXEDO Computer&rsquo;s kernel driver exposes two interfaces, sysfs for LED control and ioctl for almost everything else.
First, I started exploring the sysfs interface with a small shell script.
Shortly afterwards, I wrote the <code>tuxedo_sysfs</code> crate as a proper abstraction over the sysfs interface.
Until recently, TUXEDO used a non-standard interface for controlling the RGB lights of supported keyboards.
Yet with the latest version of the kernel driver, TUXEDO moved their interface to <code>/sys/class/led</code> which makes it easy for <code>tuxedo_sysfs</code> to pick up LED devices from other manufacturers as well.</p><p>The ioctl interface turned out to be a bit more challenging.
TUXEDO Computers uses components from different manufacturer which have different interfaces in the ioctl driver.
Fortunately, the <code>tuxedo_ioctl</code> crate has a hardware abstraction layer that lets you forget those differences and makes it easy to figure out device capabilities.
Depending on the manufacturer, different traits are implemented that represent a subset of all available features.
Once you connect to the interface, you either get a trait object with the supported functionality or <a href=https://doc.rust-lang.org/std/option/enum.Option.html#variant.None><code>None</code></a> if the device doesn&rsquo;t support a certain feature.
Basically, hardware support is perfectly matched by Rust&rsquo;s type system.</p><h3 id=level-2---the-system-service>Level 2 - The system service<a hidden class=anchor aria-hidden=true href=#level-2---the-system-service>#</a></h3><p>With the first layer completed, the next step was to build a system service that&rsquo;s able to manage the hardware and different configurations.
The resulting <code>tailord</code> crate takes care of all the heavy lifting and exposes a simple DBUS interface.</p><p>Similar to the TCC, <code>tailord</code> is heavily focused around profiles.
First, you can add and edit different fan curves and RGB animations.
Then, you use profiles to assign the various configurations to your hardware.
By selecting another profile, you can easily switch between different configurations.</p><p>Compared to the TCC, <code>tailord</code> has some additional features, but is also missing some features.
We&rsquo;re currently working on closing the gap, but <code>tailord</code> should already offer more than enough for most users.
Due to using Rust and better control algorithms, <code>tailord</code> is able to greatly outperform TCC&rsquo;s <code>tccd</code> service both in CPU and RAM usage.
To be fair, <code>tccd</code> already does quite ok, but <code>tailord</code> is at least 5 times more efficient in both categories.</p><h3 id=level-3---the-client-library>Level 3 - The client library<a hidden class=anchor aria-hidden=true href=#level-3---the-client-library>#</a></h3><p>Using raw DBUS interfaces for interacting with <code>tailord</code> is not so much fun.
Luckily, <code>tailor_client</code> provides a neat asynchronous API as an abstraction layer for communication with <code>tailord</code>.
Connecting to <code>tailord</code>, serializing and deserializing of messages and error handling is all handled by this crate.
By sharing common code with <code>tailord</code> through <code>tailor_api</code>, it is guaranteed that server and client can communicate seamlessly.</p><h3 id=level-4---the-gui>Level 4 - The GUI<a hidden class=anchor aria-hidden=true href=#level-4---the-gui>#</a></h3><p>Built on the <code>tailor_client</code> crate, <code>tailor_gui</code> offers a native and intuitive UI for managing your hardware.
On three pages, you can modify your profiles, RGB animations and fan curves.
On every step, the UI will give you feedback instantaneously to make it easier to figure out which RGB value or fan speed is optional for you.</p><p>The following video shows the features of the GUI, but note that I made this video already a couple of weeks ago and more features have been added since.</p><video controls style=width:100%>
<source src=./tuxedo-rs.mp4 type=video/mp4>Your browser does not support the video tag.</video><h3 id=overview>Overview<a hidden class=anchor aria-hidden=true href=#overview>#</a></h3><p>As you can see, Tuxedo-rs is not just a replacement for TCC, but a collection of crates that offer abstractions at several levels.
No matter whether you want to write a small utility, an alternative system service or build your own UI, tuxedo-rs has you covered.
If you&rsquo;d like to have an overview of all crates and how they interact with each other and the hardware, check out <a href=https://github.com/AaronErhardt/tuxedo-rs#structure>this graphic on our repository</a>.</p><h2 id=why-rust>Why Rust?<a hidden class=anchor aria-hidden=true href=#why-rust>#</a></h2><p>Of course, Rust is not a magic programming language that solves all problems and should replace all languages.
Yet, especially for the scope of tuxedo-rs, it has proven to be a great choice.
It is well known that Rust has outstanding performance, great tooling and tends to result in very robust programs.
I think this has been covered well enough already, so I&rsquo;d like to focus on some aspects that helped with tuxedo-rs in particular.</p><p>An interesting aspect of tuxedo-rs is that you will probably find equally suited or even better languages for certain parts of the project.
Rust might not be a superior language for low-level kernel interfaces, system services or GUIs.
Yet, it manages to be a great choice for all those tasks and makes it possible to write everything in just one language.
In general, Rust simply accumulates a lot of great features that you would miss in other languages.</p><p>In particular, async support turned out to be an essential feature.
Managing multiple DBUS connections, running fan control algorithms and showing RGB animations on a single thread could hardly be easier.
Together with channels, asynchronous programming in Rust makes it quite easy to write robust concurrent applications.</p><p>One thing I really appreciate as well is the strong type system.
Tuxedo-rs already has quite a lot of crates and during the development, it was not uncommon to change something in a lower level to be able to extend the functionality somewhere else.
After going through a couple of error messages, the program would be fully functional again with no accidental bugs added in the process.
The explicit type system is also very important for robust error handling and makes easy to write abstractions that cannot be used incorrectly.
I think especially for system services which run with elevated permissions, correctness and safety cannot be valued enough.</p><p>On top of that, Rust also has a great ecosystem.
<a href=https://crates.io/crates/nix><code>nix</code></a> offers great abstractions over ioctl and <a href=https://crates.io/crates/tokio_uring><code>tokio_uring</code></a> made it very simple to access the sysfs interfaces asynchronously through <a href=https://kernel.dk/io_uring.pdf><code>io_uring</code></a>.
For DBUS interfaces <a href=https://crates.io/crates/zbus><code>zbus</code></a> is an outstanding crate for both servers and clients.
And finally, <a href=https://crates.io/crates/relm4><code>Relm4</code></a> makes it easy to write native GUI applications and offers great support for asynchronous operations.</p><h2 id=how-can-i-use-tuxedo-rs>How can I use tuxedo-rs?<a hidden class=anchor aria-hidden=true href=#how-can-i-use-tuxedo-rs>#</a></h2><p>Tuxedo-rs has just been announced with this post, so unsurprisingly there won&rsquo;t be any packages available for your favorite Linux distribution yet.
Tailor GUI will hopefully be published soon on flathub and we would love to work together with package maintainers to package the individual components of tuxedo-rs.</p><p>For now, building from source is still necessary.
Fortunately, the build process is very simple and only requires <a href=https://mesonbuild.com/>meson</a> and <a href=https://rustup.rs>Rust</a>.
You can find detailed instructions <a href=https://github.com/AaronErhardt/tuxedo-rs#installation>here</a>.</p><h3 id=what-if-i-dont-own-tuxedo-hardware>What if I don&rsquo;t own TUXEDO hardware?<a hidden class=anchor aria-hidden=true href=#what-if-i-dont-own-tuxedo-hardware>#</a></h3><p>Tuxedo-rs is a purely community-driven project.
It is not developed nor supported by TUXEDO Computers.
This means that tuxedo-rs is free to implement support for other vendors as well.
Technically, some features like RGB animations should already work with all RGB devices with a decent Linux driver.
For more advanced features however, we need contributions from the community to add more devices.</p><h2 id=future-plans>Future plans<a hidden class=anchor aria-hidden=true href=#future-plans>#</a></h2><p>I&rsquo;m already quite happy with tuxedo-rs, but there are still a lot of features to work on.
Eventually, we might even upstream a Kernel driver as replacement for the modules offered by TUXEDO Computers which can&rsquo;t be merged into the Kernel due to an incompatible license.</p><p>Most importantly however, tuxedo-rs needs more testing due to the limited hardware available to the contributors.
Let us know if you want to add new features or experienced a problem.
Contributions are always highly appreciated!</p><h2 id=credit>Credit<a hidden class=anchor aria-hidden=true href=#credit>#</a></h2><p>I want to thank TUXEDO Computers for offering great Linux hardware and publishing the source code of their software.
Even though the documentation is mostly lacking, reading source code is still far better than reverse engineering and helped a lot during the development.</p><p>Especially, I want to thank <a href=https://github.com/crisidev>Matteo Bigoi</a> for contributing support for hardware from Uniwill (which is used in a lot of devices from TUXEDO Computers) and several other features to tuxedo-rs!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://aaronerhardt.github.io/blog/tags/tuxedo-rs/>Tuxedo-Rs</a></li></ul><nav class=paginav><a class=prev href=https://aaronerhardt.github.io/blog/posts/mediation/><span class=title>« Prev</span><br><span>The potential of mediation for free software development</span>
</a><a class=next href=https://aaronerhardt.github.io/blog/posts/proc_macro_v2/><span class=title>Next »</span><br><span>Does Rust need proc-macros 2.0?</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Announcing tuxedo-rs on x" href="https://x.com/intent/tweet/?text=Announcing%20tuxedo-rs&amp;url=https%3a%2f%2faaronerhardt.github.io%2fblog%2fposts%2fannouncing_tuxedo_rs%2f&amp;hashtags=tuxedo-rs"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Announcing tuxedo-rs on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2faaronerhardt.github.io%2fblog%2fposts%2fannouncing_tuxedo_rs%2f&amp;title=Announcing%20tuxedo-rs&amp;summary=Announcing%20tuxedo-rs&amp;source=https%3a%2f%2faaronerhardt.github.io%2fblog%2fposts%2fannouncing_tuxedo_rs%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Announcing tuxedo-rs on reddit" href="https://reddit.com/submit?url=https%3a%2f%2faaronerhardt.github.io%2fblog%2fposts%2fannouncing_tuxedo_rs%2f&title=Announcing%20tuxedo-rs"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Announcing tuxedo-rs on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2faaronerhardt.github.io%2fblog%2fposts%2fannouncing_tuxedo_rs%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Announcing tuxedo-rs on whatsapp" href="https://api.whatsapp.com/send?text=Announcing%20tuxedo-rs%20-%20https%3a%2f%2faaronerhardt.github.io%2fblog%2fposts%2fannouncing_tuxedo_rs%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Announcing tuxedo-rs on telegram" href="https://telegram.me/share/url?text=Announcing%20tuxedo-rs&amp;url=https%3a%2f%2faaronerhardt.github.io%2fblog%2fposts%2fannouncing_tuxedo_rs%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Announcing tuxedo-rs on ycombinator" href="https://news.ycombinator.com/submitlink?t=Announcing%20tuxedo-rs&u=https%3a%2f%2faaronerhardt.github.io%2fblog%2fposts%2fannouncing_tuxedo_rs%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://aaronerhardt.github.io/blog/>Eberhardt blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>